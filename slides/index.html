<!doctype html>
<html lang="ko">
	<head>
		<meta charset="utf-8">

		<title>Netty 시작하기 (1)</title>

		<meta name="description" content="자바 환경의 고성능 비동기 네트워크 프레임워크인 Netty를 이해하고, 간단한 예제를 만들어봅니다.">
		<meta name="author" content="김대현">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/aewol.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">
		<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section class="cover">
					<h1>Netty 시작하기 (1)</h1>
					<h3>고성능 비동기 네트워크 프레임워크</h3>
					<p class="name">
						<a href="http://hatemogi.com">김대현</a><br/>
						<a href="http://twitter.com/hatemagi">@hatemogi</a>
					</p>
				</section>

				<section>
					<h2>
						김대현
						<small style="vertical-align: bottom;">
							<a href="https://twitter.com/hatemogi"><i class="fa fa-twitter"></i></a>
							<a href="https://medium.com/@hatemogi"><i class="fa fa-medium"></i></a>
							<a href="https://github.com/hatemogi"><i class="fa fa-github"></i></a>
						</small>
					</h2>
					<p data-markdown>
					* 2015, Netty 기반 서버 개발
					* 2013, Redis SaaS 서비스, 160+ VM
					* 2010, MyPeople, 네트워크 아키텍쳐 설계
					* 2009, Cafe 채팅 부하분산 서버 개발
					* 2004, Cafe, 한줄메모장 개발, 일일 3억 PV
					</p>
				</section>

				<section>
					<h2>과정</h2>
					<p>
						<ol>
							<li>Netty의 기본 설명</li>
							<li>문제 풀이</li>
							<li>예제 개발</li>
						</ol>
					</p>
					<h2>목표</h2>
					<p>
						<ul>
							<li>Event-Driven, 비동기 I/O가 뭔지 알겠다</li>
							<li>Netty로 개발 해봤다</li>
							<li>(조금 더 공부하면) 실무에 쓸 수 있겠다</li>
						</ul>
					</p>
					<aside class="notes">
						이 과정의 목표입니다. Netty의 기본을 설명하며, 중간중간 문제풀이로 이해를 돕고, 직접 예제를 개발해보는 과정을 통해,
						오늘 4시간을 잘 보내고나면, "Event-Driven 서버 개발이 무엇인지, 비동기 I/O는 무엇인지 알겠다",
						"나도 Netty로 개발해봤다", "어쩌면 실무에 응용해볼 수 있겠다"는 생각이 드셨으면 좋겠습니다.
					</aside>
				</section>

				<section data-markdown>
					<script type="text/template">
					## 준비사항

					* [IntelliJ 14 CE](https://www.jetbrains.com/idea/download/)
					* [JDK8](https://jdk8.java.net/download.html)
					* [Git 클라이언트](http://git-scm.com/downloads)
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
					## 4시간 진행순서

					1. Netty 소개, 비동기 처리 기본, 첫 서버 개발
					1. Netty와 유닛테스트, 대용량 서버 개발
					1. Netty와 함께하는 멀티쓰레딩
					1. 모두 함께 개발하는 Netty 클라이언트와 서버
					</script>
				</section>

				<section data-markdown>
					<script type="text/template">
					## <i class="fa fa-question-circle"></i> 다음의 공통점

					* [Nginx](http://nginx.org)
					* [HAProxy](http://www.haproxy.org)
					* [Memcached](http://memcached.org)
					* [Redis](http://redis.io)
					* [Node.js?](http://nodejs.org) <!-- ._element: class="fragment" -->
					</script>
				</section>

				<section>
					<section data-markdown>
						## 왜 Netty를 쓸까?

						* 고성능
						* 쓰기 편하다 (유연하고 쉽다)

					</section>
					<section>
						<h2>
							얼마나 빠른가?
							<small>
								<a href="https://github.com/TechEmpower/FrameworkBenchmarks/tree/master/frameworks/Java/netty/src/main/java/hello">netty</a>
								<a href="https://github.com/TechEmpower/FrameworkBenchmarks/tree/master/frameworks/Java/servlet/src/main/java/hello">servlet</a>
							</small>
						</h2>
						<a href="http://www.techempower.com/benchmarks/#section=data-r9&hw=i7&test=plaintext">
							<img src="img/webframeworkbenchmarks.png"/>
						</a>

					</section>
					<section data-markdown>
						## Netty가 고성능인 이유

						* Non-blocking Asynchronous 처리가 기본
						* 적은 쓰레드로 많은 요청을 처리
						* GC부하를 최소화하는 ByteBuffer 지원

					</section>
					<section data-markdown>
						## Netty가 편한 이유

						* 각종 네트워크 프로토콜 (코덱) 기본 지원
						* 필요한 부분을 쉽게 조립해 쓸 수 있는 구조
						* 멀티쓰레딩 처리 없이도...
					</section>
				</section>

				<section>
					<section data-markdown>
						## 동기와 비동기
						* Synchronous vs. Asynchronous
						* Blocking vs. Non-blocking

						## 우리말로 하자면...
						* 요청하고 결과를 계속 기다리기
						* 완료되면 알려달라고 요청하고 다른 일 하기
					</section>

					<section data-markdown>
						<script type="text/template">
						## <i class="fa fa-mobile"></i> 고객센터에 전화를 했는데...

						<i class="fa fa-comment"></i> 모든 상담원이 통화중입니다.

						1. 연결될 때까지 기다리기
						1. 전화해달라는 기록 남기고 끊기
						</script>
					</section>

					<section data-markdown>
						<script type="text/template">
						## 동기 (Synchronous) 방식

						<i class="fa fa-pause"></i> *Blocking* call

						```java
						// 동기 방식
						void greeting(Context ctx) {
							String req = ctx.readLine();
							ctx.write("안녕, " + req);
							System.out.println("완료");
						}
						```
						</script>
					</section>
					<section data-markdown>
						<script type="text/template">
						## 비동기 (Asynchronous)

						<i class="fa fa-bolt"></i> *Non-blocking* call

						```java
						// 비동기 방식
						void greeting(Context ctx) {
							ctx.readLine().done(line -> {
								ctx.write("안녕, " + req);
							});
							System.out.println("완료");
						}
						```
						</script>
					</section>
				</section>

				<section>
					<section data-markdown>
						## "왜 Netty를 쓸까?" 에 앞서...

						1. Blocking I/O, Non-blocking I/O
						1. Thread 기본
						* a single-process, event-driven model considerably reduces the cost of context switch and the memory usage.
					</section>

					<section data-markdown>
						## 왜 어려운 NIO를 쓸까?

						> 동기(synchronous, blocking) I/O 방식으로는 다수의 커넥션을 받기 어렵기 때문입니다.

						### 반대로 말하면...

						많은 요청을 받거나 보낼 일이 없으면 굳이 알 필요 없을 수도 있습니다.
					</section>

				</section>
				<section data-background="img/netty-components.png" data-background-color="#eee">
				</section>

				<section id="themes">
					<h2>Themes</h2>
					<p>
						reveal.js comes with a few themes built in: <br>
						<!-- Hacks to swap themes after the page has loaded. Not flexible and only intended for the reveal.js demo deck. -->
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/black.css'); return false;">Black (default)</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/white.css'); return false;">White</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/league.css'); return false;">League</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/sky.css'); return false;">Sky</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/beige.css'); return false;">Beige</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/simple.css'); return false;">Simple</a> <br>
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/serif.css'); return false;">Serif</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/night.css'); return false;">Night</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/moon.css'); return false;">Moon</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/solarized.css'); return false;">Solarized</a> -
						<a href="#" onclick="document.getElementById('theme').setAttribute('href','css/theme/aewol.css'); return false;">애월</a>
					</p>
				</section>

				<section data-transition="slide" data-background="#4d7e65" data-background-transition="zoom">
					<h2>Background Transitions</h2>
					<p>
						Different background transitions are available via the backgroundTransition option. This one's called "zoom".
					</p>
					<pre><code>Reveal.configure({ backgroundTransition: 'zoom' })</code></pre>
				</section>

				<section data-transition="slide" data-background="#b5533c" data-background-transition="zoom">
					<h2>Background Transitions</h2>
					<p>
						You can override background transitions per-slide.
					</p>
					<pre><code style="word-wrap: break-word;">&lt;section data-background-transition="zoom"&gt;</code></pre>
				</section>

				<section>
					<h2>Pretty Code</h2>
					<pre><code data-trim contenteditable>
function linkify( selector ) {
  if( supports3DTransforms ) {
    var nodes = document.querySelectorAll( selector );
    for( var i = 0, len = nodes.length; i &lt; len; i++ ) {
      var node = nodes[i];
      if( !node.className ) {
        node.className += ' roll';
      }
    }
  }
}
					</code></pre>
					<p>Code syntax highlighting courtesy of <a href="http://softwaremaniacs.org/soft/highlight/en/description/">highlight.js</a>.</p>
				</section>

				<section>
					<h2>Global State</h2>
					<p>
						Set <code>data-state="something"</code> on a slide and <code>"something"</code>
						will be added as a class to the document element when the slide is open. This lets you
						apply broader style changes, like switching the page background.
					</p>
				</section>

				<section data-state="customevent">
					<h2>State Events</h2>
					<p>
						Additionally custom events can be triggered on a per slide basis by binding to the <code>data-state</code> name.
					</p>
					<pre><code class="javascript" data-trim contenteditable style="font-size: 18px;">
Reveal.addEventListener( 'customevent', function() {
	console.log( '"customevent" has fired' );
} );
					</code></pre>
				</section>

				<section data-markdown>
					<script type="text/template">
						## 참고자료
						* [Netty4 Intro](http://normanmaurer.me/presentations/2014-http-netty/slides.html)
						* [Why Netty?](http://normanmaurer.me/presentations/2014-netflix-netty/slides.html)
						* [The C10K problem](http://www.kegel.com/c10k.html)
						* [Web Framework Benchmarks](http://www.techempower.com/benchmarks/#section=data-r9&hw=i7&test=plaintext)
					</script>
				</section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: false,
				slideNumber: true,
				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
